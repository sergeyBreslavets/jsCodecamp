<script type="text/javascript">
	 function convert(str) {
  // &colon;&rpar;
  var arrSymbol = ["&", "<", ">", '"' , "'"] ;
  var arrSymbolReplase=["&amp;" , "&lt;", "&gt;", "&quot;", "&apos;"];
   str=str.replace(/"/ig, ' " ');
   str=str.replace(/'/ig, " ' ");
  var arrChart= str.split(' ');

  console.log(arrChart);
  for (var i = 0; i < str.length; i++) {
        if (arrSymbol.indexOf(arrChart[i]) >= 0 )  {
            arrChart[i]=arrSymbolReplase[arrSymbol.indexOf(arrChart[i])];
        }
      }

  str=arrChart.join(' ');  
  return str;
};

function spinalCase(str) {
  // "It's such a fine line between stupid, and clever."
  // --David St. Hubbins
 
  var MYaRR=str.split(''); 
 
  console.log(MYaRR);
  MYaRR.forEach(function(item, i, MYaRR) {
  	  var regex = /[A-Z]/;
  	  var match = regex.exec(item);
       if(match != null){
            MYaRR[i]=' '+item;
           console.log(item);
      } 
  	  
   });
   console.log(MYaRR);
  str=MYaRR.join('');
  if (str[0]==" "){
  str=str.substring(1,str.length);}

  console.log(str);
  str=str.toLowerCase(); 
  str=str.replace(/_/g, "-");
  str=str.replace(/\s/g, "-");
  str=str.replace(/--/g, "-");

  return str;
}

// console.log(spinalCase('This Is Spinal Tap'));
// console.log(spinalCase("aZZZAAaaaaa"));
// console.log(spinalCase('thisIsSpinalTap'));

function sumFibs(num) {
	console.log(num);
	var befNum=1;
	var numnow=1;
	var nextNum=numnow+befNum;
	var masFib=[];
	masFib.push(numnow);
	masFib.push(numnow);
	while((num>numnow & num<nextNum) ||  (num>numnow)){
	   befNum=numnow;
       numnow=nextNum;
       nextNum=numnow+befNum;
   
       masFib.push(numnow);
	}
    numnow=0;
    console.log(masFib);

    var masfibODD=[];
    var massumodd=[];
    for (var i = 0; i < masFib.length; i++) {

		if(!(masFib[i]% 2 == 0)){masfibODD.push(masFib[i]);}
	}
    console.log(masfibODD);
     

	for (var i = 0; i < masfibODD.length; i++) {
		  numnow=numnow+masfibODD[i];
	
	}
	if (masfibODD.indexOf(num)>=0) {
		return numnow;
	} else {
		return numnow-masfibODD[masfibODD.length-1];
	}
  
}

//console.log(sumFibs(4000000));
//console.log(sumFibs(75024));
//console.log(sumFibs(75025));



function sumPrimes(num) {
  var sum=0;
  for (var i = 2; i < num; i++) {      
  	var flag=true; 
    for (var ii = i-1; ii >0 ; ii--) {
  	 	if (i % ii == 0 & ii !==1){
           flag=false;
      }
  	 }; 
    if (flag==true){
         
       sum=sum+i;

    }


  };



  return sum;
}

//sumPrimes(977);
function smallestCommons(arr) {
   var arrStart=Math.min.apply(Math, arr);
   var arrEnd  =Math.max.apply(Math, arr);
   var masA    =[];
   for (var i = arrStart; i <= arrEnd; i++) {
     masA.push(i);

   };
     
   var start= 0; 
   var end=false;
   while(end==false){
      end=true;
      start=start+ masA[masA.length-1];
      for (var i = 0; i < masA.length; i++) {
             
          if (start %  masA[i] > 0) {
            end=false;
          }
       }; 
      
 }
 return start;
}


//console.log(smallestCommons([1,5]));
function find(arr, func) {
  var num = undefined; 
  arr=arr.filter(func);  
  if (arr.length>0){
    num=arr[0];
  }
  return num;
}

console.log(find([1, 3, 5, 5, 9, 5], function(num) { return num % 2 === 0; }));

function drop(arr, func) {
  // Drop them elements.
    arr=arr.filter(func);  
  return arr;
}

//console.log(drop([1, 2, 3], function(n) {return n < 3; }));

function steamroller(arr) {
  // I'm a steamroller, baby
  var newArr=[];
  var end=false; 
  while(end==false){ 
  end=true;
  for (var i = 0; i < arr.length; i++) {
       
     if( Array.isArray(arr[i])==false) {
    newArr.push(arr[i]);

   }else {
      end=false;
     for (var j = 0; j < arr[i].length; j++) {
          newArr.push(arr[i][j]);
     };
    

   }}
   arr=newArr;
   newArr=[];
  };
  return arr;
}

//console.log(steamroller([1, [], [3, [[4]]]]));
function binaryAgent(str) {
  var arrChart= str.split(' ');
  for (var i = 0; i < arrChart.length; i++) {
    arrChart[i]=arrChart[i].split('');
    arrChart[i]=arrChart[i].reverse();
    var chislo=0;
    for (var j = 0; j < arrChart[i].length; j++) {
      chislo=chislo+ arrChart[i][j]* Math.pow(2, j);
    };
  
    arrChart[i]=chislo;
  };

  for (var i = 0; i < arrChart.length; i++) {
    arrChart[i]=String.fromCharCode(arrChart[i]);
  };
  str=arrChart.join('');
  console.log(str);
  return str;
}

binaryAgent("01000001 01110010 01100101 01101110 00100111 01110100 00100000 01100010 01101111 01101110 01100110 01101001 01110010 01100101 01110011 00100000 01100110 01110101 01101110 00100001 00111111");
function every(collection, pre) {
  // Is everyone being true?
     var result=true;
    for (var i = 0; i < collection.length; i++) {
      console.log(Object.keys(collection[i]));
        var masObj=Object.keys(collection[i]);
        if (masObj.indexOf(pre)<0){
          result= false;
          return result;
        }  
        if(collection[i][pre]==null) {
          result= false;
            console.log("null");
          return result;
        }
         if(collection[i][pre]=="") {
          result= false;
            console.log("''");
          return result;
        }
          if(collection[i][pre]==undefined) {
          result= false;
  console.log("unde");
          return result;
        }
       if (collection[i][pre]==null) {
          result= false;
            console.log("null");
          return result;
      }
        if (collection[i][pre] !==collection[i][pre] ) {
          result= false;
          console.log("nan");
           console.log(collection[i]);
          return result;
      }
    };



  return result;
}

// console.log(every([{"user": "Tinky-Winky",  "sex": "male"}, {"user": "Dipsy", "sex": "male"}, {"user": "Laa-Laa", "sex": "female"}, {"user": "Po", "sex": "female"}], "sex"));
function add() {
var args = Array.prototype.slice.call(arguments);
if (args.length==1){ 
   if (typeof args[0] !== 'number') {
     return undefined;
   }
  return function(y) {
      if (typeof y !== 'number') {
     return undefined;
   }
 
    return args[0] + y;
  };
};


if (args.length==2){
   if (typeof args[0] !== 'number') {
     return undefined;
   }
     if (typeof args[1] !== 'number') {
     return undefined;
   }
 
   return args[0] + args[1];
}
  if (args.length>2){
   return undefined;
}
}



//add(2)(3);

function where(collection, source) {
  var arr = [];
  // What's in a name?
  var mySorsreKey=Object.keys(source);
  var mySorseVal =[];
  for (var i = 0; i < mySorsreKey.length; i++) {
    mySorseVal.push(source[mySorsreKey[i]]);
  };
  var newArr=[]; 
   
  for (var i = 0; i < collection.length; i++) { 
     var flag =true;
     for (var j = 0; j < mySorsreKey.length; j++) {
       console.log(collection[i]); 
       if (collection[i][mySorsreKey[j]] !== mySorseVal[j]){
             flag= false;
       } 
     };
     if (flag==true){
      newArr.push(collection[i]);
     }
    
     }
  return newArr;
}

console.log(where([{ first: "Romeo", last: "Montague" }, { first: "Mercutio", last: null }, { first: "Tybalt", last: "Capulet" }], { last: "Capulet" }));

</script>